# üöÄ Real Trading Migration Guide

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –≥–∞–π–¥ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞ –Ω–∞ Bybit.

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

### –ß–µ—Ä–µ–∑ update.sh (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ - –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
./update.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü–æ–ª—É—á–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –í—ã–ø–æ–ª–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏—é Real Trading
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç–∞

### –†—É—á–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

```bash
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é
python3 migrate_real_trading.py
```

## –ß—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

### 1. –¢–∞–±–ª–∏—Ü–∞ `real_trading_state`
```sql
CREATE TABLE real_trading_state (
    id INTEGER PRIMARY KEY,
    is_running BOOLEAN DEFAULT FALSE,
    daily_pnl REAL DEFAULT 0.0,
    total_trades INTEGER DEFAULT 0,
    last_reset_date DATE,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### 2. –¢–∞–±–ª–∏—Ü–∞ `real_trades`
```sql
CREATE TABLE real_trades (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    symbol TEXT NOT NULL,
    side TEXT NOT NULL,
    order_type TEXT NOT NULL,
    quantity REAL NOT NULL,
    price REAL NOT NULL,
    order_id TEXT,
    status TEXT DEFAULT 'PENDING',
    commission REAL DEFAULT 0.0,
    realized_pnl REAL DEFAULT 0.0,
    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,
    reason TEXT,
    exchange_order_id TEXT,
    avg_price REAL,
    filled_quantity REAL DEFAULT 0.0
);
```

### 3. –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- `idx_real_trades_symbol` - –ø–æ —Å–∏–º–≤–æ–ª—É
- `idx_real_trades_timestamp` - –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- `idx_real_trades_status` - –ø–æ —Å—Ç–∞—Ç—É—Å—É

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```env
# Bybit API (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏)
BYBIT_API_KEY=your_api_key_here
BYBIT_API_SECRET=your_api_secret_here
BYBIT_TESTNET=true  # true –¥–ª—è testnet, false –¥–ª—è mainnet

# –†–µ–∂–∏–º—ã —Ç–æ—Ä–≥–æ–≤–ª–∏
ENABLE_PAPER_TRADING=false
ENABLE_REAL_TRADING=true
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

#### Testnet (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Bybit Testnet](https://testnet.bybit.com/)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ API Management
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á —Å –ø—Ä–∞–≤–∞–º–∏:
   - Spot Trading
   - Read Account Info

#### Mainnet (–¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏):
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Bybit](https://www.bybit.com/)
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ API Management
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á —Å –ø—Ä–∞–≤–∞–º–∏:
   - Spot Trading
   - Read Account Info

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–í `config.py` –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–∏–º–∏—Ç—ã:
```python
# Real Trading Safety Limits
REAL_MAX_DAILY_LOSS = 50.0      # –ú–∞–∫—Å —É–±—ã—Ç–æ–∫ –≤ –¥–µ–Ω—å (USD)
REAL_MAX_POSITION_SIZE = 100.0  # –ú–∞–∫—Å —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ (USD)
REAL_MAX_POSITIONS = 2          # –ú–∞–∫—Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π
REAL_ORDER_TYPE = "MARKET"      # "MARKET" –∏–ª–∏ "LIMIT"
```

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### Telegram –∫–æ–º–∞–Ω–¥—ã:
```bash
/real_status     # –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏
/real_balance    # –ë–∞–ª–∞–Ω—Å —Å –±–∏—Ä–∂–∏
/real_start      # –ó–∞–ø—É—Å–∫ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏
/real_stop       # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏
/real_trades     # –ò—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–æ–∫
/real_limits     # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–∏–º–∏—Ç–æ–≤
/real_emergency_stop  # –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
sqlite3 data/tradebot.db ".tables"
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
python bot.py
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥
–û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ Telegram –±–æ—Ç—É:
```
/real_status
/real_balance
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:

1. **–ù–∞—á–Ω–∏—Ç–µ —Å testnet** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ª–∏–º–∏—Ç—ã** - –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —É–±—ã—Ç–∫–∏
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
4. **–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞** - –∫–æ–º–∞–Ω–¥–∞ `/real_emergency_stop` –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞

### –õ–∏–º–∏—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- **–î–Ω–µ–≤–Ω–æ–π —É–±—ã—Ç–æ–∫**: $50
- **–†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏**: $100
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π**: 2

## –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Ç–æ—Ä–≥–æ–≤–ª—é:

```bash
# –í config.py —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
ENABLE_REAL_TRADING = False
ENABLE_PAPER_TRADING = True

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
./update.sh
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f logs/crypto_signal_bot.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö: `sqlite3 data/tradebot.db ".schema"`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é: `python3 migrate_real_trading.py`

## –°—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è Real Trading –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   Real trades: 0
   Trading state records: 1
   Database: data/tradebot.db
```

**Real Trading –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**
